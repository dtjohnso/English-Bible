<html>
<head>
  <title>A Timeline of the English Bible</title>

  <!-- set locale manually b/c simile 2.2.0 only supports 'en' -->
  <script> document.documentElement.lang = "en"; </script>

  <!-- bib.ly integration -->
  <script src="http://code.bib.ly/bibly.min.js"></script>
  <script src="assets/bibly-settings.js"></script>

  <!-- SIMILE Exhibit -->
  <script src="http://api.simile-widgets.org/exhibit/2.2.0/exhibit-api.js"></script>
  <script src="http://api.simile-widgets.org/exhibit/2.2.0/extensions/time/time-extension.js"></script>
 
  <!-- Data file compressed -->
  <link rel="exhibit/data" type="application/json" href="data/english-bible.min.json" />
  <!-- Data file uncompressed --><!-- <link rel="exhibit/data" type="application/json" href="data/english-bible.json" /> -->

  <!-- Styling -->
  <link rel="stylesheet" href="assets/style.min.css" />
  <link href='http://fonts.googleapis.com/css?family=Belgrano' rel='stylesheet' type='text/css'>
</head>

<body>
  <div class="boilerplate">
    <h1>A Timeline of the English Bible</h1>
    <p>If you see an error or omission, please <a href="https://github.com/dtjohnso/English-Bible/issues/" target="_blank">submit an issue on Github</a> or contact me via <a href="//duncanjohnson.ca/" target="_blank">my website</a>.</p>
  </div>

  <table width="100%" cellspacing="20px">
   <tr valign="top">
    <td>
      <div class="timeline" ex:role="view"
      ex:viewClass="Timeline"
      ex:start=".start"
      ex:end=".end"
      ex:colorKey=".eventType"
      ex:bubbleWidth="500"
      ex:bubbleHeight="300"
      ex:timelineConstructor="myTimelineConstructor">
    </div>
  </td>
  <td width="20%">
    <div ex:role="facet" ex:facetClass="TextSearch" ex:facetLabel="Search"></div>
    <div ex:role="facet" ex:expression=".eventType" ex:facetLabel="Filter by Event Type" ex:height="300"></div>
  </td>
</tr> 
</table>

<!-- Credit -->
<div class="credit">
  <p>Produced by Duncan Johnson</p>

  <!-- License -->
  <div class="license"><span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/InteractiveResource" property="dct:title" rel="dct:type">A Timeline of the English Bible</span> by <a xmlns:cc="http://creativecommons.org/ns#" href="http://duncanjohnson.ca/" property="cc:attributionName" rel="cc:attributionURL">Duncan Johnson</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>.&nbsp;<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-sa/3.0/80x15.png" /></a></div>
</div>

<!-- Custom lens -->
<div ex:role="lens" ex:onshow="bibly.scanForReferences(this)" >
  <b ex:content=".label"></b><br/><a ex:if-exists=".wikipedia" ex:href-content=".wikipedia" target="_blank">[Wikipedia]</a>
  <p><a target="_blank" ex:if-exists=".imagesource" ex:href-content=".imagesource"><img ex:if-exists=".image" ex:src-content=".image" /></a><span ex:if-exists=".imagecredit" ex:content="concat('<br/>',.imagecredit)" class="credit"></span></p>
  <p ex:content=".description"></p>
  <p>Date<span ex:if-exists=".end" ex:content="'s'"></span>: <span ex:content=".start"></span><span ex:if-exists=".end" ex:content="concat('&ndash;',.end)"></span></p>
  <span ex:if-exists=".sources" ex:content="concat('Sources: ',.sources)"></span>
</div>

<!-- footer scripts -->
  <!-- Timeline constructor -->
  <script> 
    function myTimelineConstructor(div, eventSource) {
      var theme = Timeline.ClassicTheme.create();
      theme.event.bubble.width = 500; 
      theme.event.bubble.height = 300;
      theme.ether.backgroundColors[1] = theme.ether.backgroundColors[0];
      // var d = Timeline.DateTime.parseGregorianDateTime("1611")
      var bandInfos = [
      Timeline.createBandInfo({
        width:          "85%", 
        intervalUnit:   Timeline.DateTime.DECADE, 
        intervalPixels: 175,
        eventSource:    eventSource,
        // date:           d,
        theme:          theme
      }),
      Timeline.createBandInfo({
        width:          "15%", 
        intervalUnit:   Timeline.DateTime.CENTURY, 
        intervalPixels: 120,
        eventSource:    eventSource,
        // date:           d,
        overview:       true,
        theme:          theme
      })
      ];
      bandInfos[1].syncWith = 0;
      bandInfos[1].highlight = true;


      div.style.height = "500px";
      return Timeline.create(div, bandInfos, Timeline.HORIZONTAL);
    }
  </script>

  <!-- Google Analytics -->
  <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-17819874-2']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
  </script>


</body>
</html>

